import{d as B,H as g,G as k,e as r,f as t,l as x,I as j,F as P,g as C,i as D,s as _,o as p}from"./vendor.c8610fdc.js";import{_ as $}from"./index.250e3854.js";const L=B({setup(){const n=g("https://shaonq.github.io/md/file/\u5982\u4F55\u5FEB\u901F\u5B9E\u73B0\u7F51\u9875\u9884\u89C8PDF\u6587\u4EF6.pdf"),s=g(!0);async function c(o,l){return o.innerHTML="",typeof pdfjsLib=="undefined"&&(console.time("pdfjs v2.5.207"),await _.loadJs("https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.min.js"),pdfjsLib.GlobalWorkerOptions.workerSrc="https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.worker.js",console.timeEnd("pdfjs v2.5.207")),new Promise(function(u,E){pdfjsLib.getDocument(l).promise.then(f=>{let w=1,m=f.numPages,y=a=>f.getPage(a).then(function(v){let d=v.getViewport({scale:2}),e=document.createElement("canvas");e.width=d.width||794,e.height=d.height||1123,e.style.width="100%",e.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.16)",e.style.marginBottom="5px",e.style.borderRadius="2px",e.style.display="block";let F=e.getContext("2d"),b=v.render({canvasContext:F,viewport:d});return o.appendChild(e),e=null,b.promise}),h=a=>{y(a).then(()=>{a++,m>=a&&h(a)})};h(w),u(m)}).catch(E)})}async function i(){try{let o=document.getElementById("view"),l=await c(o,this.value);_.showNearby({content:`\u52A0\u8F7D\u4E86\u4E00\u4E2A ${l} \u9875\u7684pdf\u6587\u4EF6`,offset:["100px","auto"]}),s.value=!1}catch{s.value=!0}}return k(async()=>{await i()}),{value:n,loading:s,loadDemo:i}}}),V={class:"u-quill-body"},q=t("h1",null,"\u5728\u7EBF\u9605\u8BFBpdf",-1),A={class:"u-flex"},M={class:"u-flex__item"},N={key:0,class:"u-skeleton is-loading"},T=t("div",{id:"view"},null,-1);function G(n,s,c,i,o,l){return p(),r("div",null,[t("div",V,[q,t("div",A,[t("div",M,[x(t("input",{class:"u-input",placeholder:"\u8BF7\u8F93\u5165\u4E00\u4E2A\u5728\u7EBF\u5730\u5740","onUpdate:modelValue":s[0]||(s[0]=u=>n.value=u)},null,512),[[j,n.value]])]),t("div",null,[t("button",{class:"u-btn u-ml",onClick:s[1]||(s[1]=u=>n.loadDemo())},"\u5728\u7EBF\u67E5\u770B")])]),n.loading?(p(),r("div",N,[(p(),r(P,null,C(10,u=>t("p",{class:"u-skeleton__item",key:u})),64))])):D("",!0),T])])}var S=$(L,[["render",G]]);export{S as default};
